<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Roleta Premiada - Segni di Vitta Tattoo</title>
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Anton&display=swap" rel="stylesheet">
</head>
<body>
  <h1 class="titulo">ðŸŽ¯ Roleta Premiada Segni di Vitta Tattoo ðŸŽ¯</h1>

  <div class="roleta-container">
    <canvas id="wheel" width="400" height="400"></canvas>
    <div id="pointer"></div>
    <div id="efeito-brilho"></div>
  </div>

  <button id="girar">GIRAR</button>

  <div id="mensagem" class="hidden">
    <h2 id="resultado-texto"></h2>
    <a id="whatsapp-btn" target="_blank">Resgatar no WhatsApp</a>
  </div>

  <script src="script.js"></script>
</body>
</html><style>
body {
  background: #0b0b0b url('https://www.transparenttextures.com/patterns/dark-mosaic.png');
  color: #fff;
  font-family: 'Anton', sans-serif;
  text-align: center;
  margin: 0;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
}

.titulo {
  font-size: 2.5rem;
  text-shadow: 2px 2px 10px #ff0000;
  margin-bottom: 25px;
}

.roleta-container {
  position: relative;
  margin-bottom: 20px;
}

#wheel {
  border-radius: 50%;
  box-shadow: 0 0 40px #ff0000;
}

#pointer {
  position: absolute;
  top: 0;
  left: 50%;
  transform: translateX(-50%);
  width: 0; 
  height: 0; 
  border-left: 15px solid transparent;
  border-right: 15px solid transparent;
  border-bottom: 30px solid #ff0000;
}

#efeito-brilho {
  position: absolute;
  top: 0;
  left: 0;
  width: 400px;
  height: 400px;
  border-radius: 50%;
  box-shadow: 0 0 0px 0px #ff0000;
  pointer-events: none;
  opacity: 0;
  transition: all 0.5s ease-out;
}

button#girar {
  background: #ff0000;
  border: none;
  color: white;
  font-size: 1.5rem;
  padding: 12px 30px;
  border-radius: 10px;
  cursor: pointer;
  margin-top: 10px;
  transition: transform 0.5s;
}

button#girar:hover {
  transform: scale(1.05);
}

#mensagem {
  margin-top: 25px;
}

#mensagem h2 {
  font-size: 1.7rem;
  color: #fff;
  margin-bottom: 15px;
}

#whatsapp-btn {
  display: inline-block;
  background: #25D366;
  color: white;
  text-decoration: none;
  padding: 14px 30px;
  border-radius: 10px;
  font-size: 1.2rem;
  box-shadow: 0 0 15px #25D36677;
  transition: background 0.3s;
}

#whatsapp-btn:hover {
  background: #1ebe5c;
}

}


 </style>
</head>
<body>
  <h1>Gire a Roleta e Ganhe!</h1>
  <div id="pointer"></div>
  <canvas id="wheel" width="500" height="500"></canvas>
  <button id="spinBtn">GIRAR</button>

<script>
  const wheel = document.getElementById('wheel');
  const ctx = wheel.getContext('2d');
  const prizes = ['50% OFF', '30% OFF', '20% OFF', 'R$150', 'R$200', 'R$300'];
  const colors = ['#111', '#222', '#111', '#222', '#111', '#222'];

  let startAngle = 0;
  const arc = Math.PI / (prizes.length / 2);
  let spinTimeout = null;
  let spinAngleStart = 0;
  let spinTime = 0;
  let spinTimeTotal = 0;

const drawRouletteWheel = () => {
  const outsideRadius = 180;
  const textRadius = 140;
  const insideRadius = 50;

  ctx.clearRect(0, 0, 400, 400);

  for (let i = 0; i < prizes.length; i++) {
    const angle = startAngle + i * arc;
    ctx.fillStyle = colors[i];
    ctx.beginPath();
    ctx.arc(200, 200, outsideRadius, angle, angle + arc, false);
    ctx.arc(200, 200, insideRadius, angle + arc, angle, true);
    ctx.fill();
    ctx.save();
    ctx.fillStyle = "#ff0000";
    ctx.translate(200 + Math.cos(angle + arc / 2) * textRadius, 
                  200 + Math.sin(angle + arc / 2) * textRadius);
    ctx.rotate(angle + arc / 2 + Math.PI / 2);
    ctx.font = "bold 20px Anton";
    ctx.fillText(prizes[i], -ctx.measureText(prizes[i]).width / 2, 0);
    ctx.restore();
  }
  ctx.beginPath();
  ctx.arc(200, 200, insideRadius, 0, 2 * Math.PI);
  ctx.fillStyle = "#000";
  ctx.fill();
};

const efeitoBrilho = document.getElementById('efeito-brilho');

const rotateWheel = () => {
  const stored = localStorage.getItem('giroFeito');
  if (stored) {
    alert('VocÃª jÃ¡ girou a roleta! Aguarde a prÃ³xima promoÃ§Ã£o.');
    return;
  }

  spinAngleStart = Math.random() * 10 + 10;
  spinTime = 0;
  spinTimeTotal = Math.random() * 3000 + 4000;
  rotateAnimation();
};

const rotateAnimation = () => {
  spinTime += 30;
  if (spinTime >= spinTimeTotal) {
    stopRotateWheel();
    return;
  }
  const spinAngle = spinAngleStart - easeOut(spinTime, 0, spinAngleStart, spinTimeTotal);
  startAngle += (spinAngle * Math.PI / 180);
  drawRouletteWheel();
  spinTimeout = setTimeout(rotateAnimation, 30);
};

const stopRotateWheel = () => {
  clearTimeout(spinTimeout);
  const degrees = startAngle * 180 / Math.PI + 90;
  const arcd = arc * 180 / Math.PI;
  const index = Math.floor((360 - (degrees % 360)) / arcd);
  const prize = prizes[index];

  efeitoBrilho.style.opacity = "1";
  efeitoBrilho.style.boxShadow = "0 0 40px 15px #ff0000";

  setTimeout(() => {
    efeitoBrilho.style.opacity = "0";
  }, 800);

  setTimeout(() => {
    document.getElementById('mensagem').classList.remove('hidden');
    document.getElementById('resultado-texto').textContent = `ðŸŽ‰ ParabÃ©ns! VocÃª ganhou ${prize}!`;
    const whatsappMsg = encodeURIComponent(`Oi! Girei a roleta e ganhei ${prize}!`);
    document.getElementById('whatsapp-btn').href = `https://api.whatsapp.com/send?phone=5547992432149&text=${whatsappMsg}`;
    localStorage.setItem('giroFeito', 'true');
  }, 1000);
};

const easeOut = (t, b, c, d) => {
  const ts = (t /= d) * t;
  const tc = ts * t;
  return b + c * (tc + -3 * ts + 3 * t);
};

drawRouletteWheel();
document.getElementById('girar').addEventListener('click', rotateWheel);
</script>
</body>
</html>
